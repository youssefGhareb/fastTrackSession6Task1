var data = [{
    iconClasses: ["fa-regular", "fa-star"],
    title: "الأفضل مشورة",
    text: "بالإضافة إلى استقلاليتنا في دراية، فقد طورنا العديد من الآليات الحصرية التي تساعد المستثمر على تكوين محافظ متنوعة وعلى انتقاء المنتجات الأفضل. بالإضافة إلى استقلاليتنا في دراية، فقد طورنا العديد من الآليات الحصرية التي تساعد المستثمر على تكوين محافظ متنوعة وعلى انتقاء المنتجات الأفضل. بالإضافة إلى استقلاليتنا في دراية، فقد طورنا العديد من الآليات الحصرية التي تساعد المستثمر على تكوين محافظ متنوعة وعلى انتقاء المنتجات الأفضل. بالإضافة إلى استقلاليتنا في دراية، فقد طورنا العديد من الآليات الحصرية التي تساعد المستثمر على تكوين محافظ متنوعة وعلى انتقاء المنتجات الأفضل. بالإضافة إلى استقلاليتنا في دراية، فقد طورنا العديد من الآليات الحصرية التي تساعد المستثمر على تكوين محافظ متنوعة وعلى انتقاء المنتجات الأفضل. بالإضافة إلى استقلاليتنا في دراية، فقد طورنا العديد من الآليات الحصرية التي تساعد المستثمر على تكوين محافظ متنوعة وعلى انتقاء المنتجات الأفضل."
}, {
    iconClasses: ["fa-regular", "fa-face-smile"],
    title: "الأكثر راحة",
    text: "لن تحتاج إلى فتح حسابات متعددة؛ أو حفظ أسماء دخول مختلفة لأن دراية تتيح لك الاستثمار في كافة المنتجات الاستثمارية من مكان واحد، بل أصبح بإمكانك متابعة كل استثماراتك وإدارتها عبر موقع واحد وحساب واحد. لن تحتاج إلى فتح حسابات متعددة؛ أو حفظ أسماء دخول مختلفة لأن دراية تتيح لك الاستثمار في كافة المنتجات الاستثمارية من مكان واحد، بل أصبح بإمكانك متابعة كل استثماراتك وإدارتها عبر موقع واحد وحساب واحد. لن تحتاج إلى فتح حسابات متعددة؛ أو حفظ أسماء دخول مختلفة لأن دراية تتيح لك الاستثمار في كافة المنتجات الاستثمارية من مكان واحد، بل أصبح بإمكانك متابعة كل استثماراتك وإدارتها عبر موقع واحد وحساب واحد. لن تحتاج إلى فتح حسابات متعددة؛ أو حفظ أسماء دخول مختلفة لأن دراية تتيح لك الاستثمار في كافة المنتجات الاستثمارية من مكان واحد، بل أصبح بإمكانك متابعة كل استثماراتك وإدارتها عبر موقع واحد وحساب واحد. "
}, {
    iconClasses: ["fa-solid", "fa-folder-open"],
    title: "الأكثر تنويعاً",
    text: "تمكنك دراية من الاستثمار في أكثر من 60 منتج استثماري من 10 مدراء مختلفين. هذه المنتجات تستثمر في كافة الفئات الاستثمارية (كالأسهم، والصكوك، والمرابحة...إلخ) والأسواق كما يمكنك التداول في ما يزيد عن 1,200 من صناديق المؤشرات المتداولة ETF تمكنك دراية من الاستثمار في أكثر من 60 منتج استثماري من 10 مدراء مختلفين. هذه المنتجات تستثمر في كافة الفئات الاستثمارية (كالأسهم، والصكوك، والمرابحة...إلخ) والأسواق كما يمكنك التداول في ما يزيد عن 1,200 من صناديق المؤشرات المتداولة ETF تمكنك دراية من الاستثمار في أكثر من 60 منتج استثماري من 10 مدراء مختلفين. هذه المنتجات تستثمر في كافة الفئات الاستثمارية (كالأسهم، والصكوك، والمرابحة...إلخ) والأسواق كما يمكنك التداول في ما يزيد عن 1,200 من صناديق المؤشرات المتداولة ETFتمكنك دراية من الاستثمار في أكثر من 60 منتج استثماري من 10 مدراء مختلفين. هذه المنتجات تستثمر في كافة الفئات الاستثمارية (كالأسهم، والصكوك، والمرابحة...إلخ) والأسواق كما يمكنك التداول في ما يزيد عن 1,200 من صناديق المؤشرات المتداولة ETF"
}, {
    iconClasses: ["fa-solid", "fa-dollar-sign"],
    title: "و بلا تكلفة اضافية",
    text: "كافة المنتجات الاستثمارية متاحة بنفس التكلفة المتاحة عند الاستثمار مع الجهة الاستثمارية"
},
{
    iconClasses: ["fa-solid", "fa-arrow-trend-up"],
    title: "الأكثر شفافية",
    text: "أصبح من السهل عليك المقارنة بين المنتجات التي تقدمها دراية من خلال حساب موحد بشكل شفاف لانتقاء الأفضل من بينها. أصبح من السهل عليك المقارنة بين المنتجات التي تقدمها دراية من خلال حساب موحد بشكل شفاف لانتقاء الأفضل من بينها. أصبح من السهل عليك المقارنة بين المنتجات التي تقدمها دراية من خلال حساب موحد بشكل شفاف لانتقاء الأفضل من بينها. أصبح من السهل عليك المقارنة بين المنتجات التي تقدمها دراية من خلال حساب موحد بشكل شفاف لانتقاء الأفضل من بينها. أصبح من السهل عليك المقارنة بين المنتجات التي تقدمها دراية من خلال حساب موحد بشكل شفاف لانتقاء الأفضل من بينها. أصبح من السهل عليك المقارنة بين المنتجات التي تقدمها دراية من خلال حساب موحد بشكل شفاف لانتقاء الأفضل من بينها. أصبح من السهل عليك المقارنة بين المنتجات التي تقدمها دراية من خلال حساب موحد بشكل شفاف لانتقاء الأفضل من بينها. أصبح من السهل عليك المقارنة بين المنتجات التي تقدمها دراية من خلال حساب موحد بشكل شفاف لانتقاء الأفضل من بينها."
},
{
    iconClasses: ["fa-regular", "fa-thumbs-up"],
    title: "الأكثر استقلالية",
    text: "دراية تركز على جمع كافة المنتجات الاستثمارية تحت سقف واحد بدلأ من التركيز على بيع منتجات بعينها، الأمر الذي يعطيها قدر أكبر من الاستقلالية والحيادية في تعاملها ومشورتها. دراية تركز على جمع كافة المنتجات الاستثمارية تحت سقف واحد بدلأ من التركيز على بيع منتجات بعينها، الأمر الذي يعطيها قدر أكبر من الاستقلالية والحيادية في تعاملها ومشورتها. دراية تركز على جمع كافة المنتجات الاستثمارية تحت سقف واحد بدلأ من التركيز على بيع منتجات بعينها، الأمر الذي يعطيها قدر أكبر من الاستقلالية والحيادية في تعاملها ومشورتها.دراية تركز على جمع كافة المنتجات الاستثمارية تحت سقف واحد بدلأ من التركيز على بيع منتجات بعينها، الأمر الذي يعطيها قدر أكبر من الاستقلالية والحيادية في تعاملها ومشورتها. دراية تركز على جمع كافة المنتجات الاستثمارية تحت سقف واحد بدلأ من التركيز على بيع منتجات بعينها، الأمر الذي يعطيها قدر أكبر من الاستقلالية والحيادية في تعاملها ومشورتها. دراية تركز على جمع كافة المنتجات الاستثمارية تحت سقف واحد بدلأ من التركيز على بيع منتجات بعينها، الأمر الذي يعطيها قدر أكبر من الاستقلالية والحيادية في تعاملها ومشورتها."
},
]

window.onload = function () {
    var parent = document.querySelector(".cards");
    var row = document.createElement("div");
    row.classList.add("row");
    parent.append(row);

    function truncate(str, limit){
        var truncatedText;
        if(str.length >= limit){
            truncatedText = str.substring(0, limit-1);
            truncatedText += " ...";
            return truncatedText;
        } else {
            return str;
        }
    }

    document.getElementById("trancated-text").innerText = truncate("مويل مرابحة الأسهم عبارة عن تمويل مجاز من الهيئة الشرعية للبنك، يمكنك من شراء عدداً معيناً من الأسهم التي يمتلكها البنك بموجب اتفاقية تحدد هامش الربح وخطة السداد، ثم يحق لك بعد ذلك إما الاحتفاظ بالأسهم أو بيعها  وإيداع عوائدها في حسابك لدينا.", 200);

    for (var i = 0; i < data.length; i++) {
        var col = document.createElement("div");
        col.classList.add("col-md-4");
        var card = document.createElement("div");
        card.classList.add("card");
        card.setAttribute("data-index", i);
        var iconContainer = document.createElement("div");
        iconContainer.classList.add("icon-container");
        var icon = document.createElement("i");
        icon.classList.add(...data[i].iconClasses);
        iconContainer.append(icon);
        card.append(iconContainer);
        var title = document.createElement("h4");
        title.innerText = data[i].title;
        card.append(title);
        var text = document.createElement("p");
        text.innerText = truncate(data[i].text, 120);
        card.append(text);
        if (data[i].text.length >= 120) {
            var btn = document.createElement("a");
            btn.innerText = "اقرأ المزيد";
            btn.classList.add("read-more-btn");
            card.append(btn);
        }
        col.append(card);
        row.append(col);
    }

    document.getElementById("purple-theme").onclick = function () {
        var allElements = document.querySelectorAll(".bg-orange");
        for (var i = 0; i < allElements.length; i++) {
            allElements[i].classList.remove("bg-orange");
            allElements[i].classList.add("bg-purple");
        }
    }

    document.getElementById("orange-theme").onclick = function () {
        var allElements = document.querySelectorAll(".bg-purple");
        for (var i = 0; i < allElements.length; i++) {
            allElements[i].classList.remove("bg-purple");
            allElements[i].classList.add("bg-orange");
        }
    }

    var readMoreBtns = document.getElementsByClassName("read-more-btn");

    for (var i = 0; i < readMoreBtns.length; i++) {
        readMoreBtns[i].addEventListener('click', function (e) {
            var index = e.target.parentElement.dataset.index;
            var modal = document.querySelector('.site-modal');
            modal.classList.remove("d-none");
            modalText = document.createElement("p");
            modalText.innerText = data[index].text;
            modal.append(modalText);
            var overlay = document.querySelector('.body-overlay');
            overlay.classList.remove('d-none');
            document.querySelector("#close-icon-cont").addEventListener('click', function (e) {
                closeModal();
            })
            disableScroll();
        })
    }

    function disableScroll() {
        document.body.classList.add('disable-scroll');
    }

    function enableScroll() {
        document.body.classList.remove('disable-scroll');
    }

    function closeModal(){
        console.log("click");
        modalText.innerText = "";
        document.getElementsByClassName("site-modal")[0].classList.add("d-none");
        document.getElementsByClassName("body-overlay")[0].classList.add("d-none");
        enableScroll();
    }

}